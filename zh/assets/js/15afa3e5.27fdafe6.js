"use strict";(self.webpackChunkhcihub_docs=self.webpackChunkhcihub_docs||[]).push([[6098],{4891:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>t,default:()=>o,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"datasets/invasive/Speech","title":"11_Speech","description":"\u6240\u7528\u6570\u636e\u96c6\u94fe\u63a5\uff1a","source":"@site/i18n/zh/docusaurus-plugin-content-docs/current/datasets/invasive/11_Speech.md","sourceDirName":"datasets/invasive","slug":"/datasets/invasive/Speech","permalink":"/BCIJelly-site/zh/docs/next/datasets/invasive/Speech","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/datasets/invasive/11_Speech.md","tags":[],"version":"current","sidebarPosition":11,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"10_Visual Grating Task","permalink":"/BCIJelly-site/zh/docs/next/datasets/invasive/Visual Grating Task"},"next":{"title":"12_Music","permalink":"/BCIJelly-site/zh/docs/next/datasets/invasive/Music"}}');var d=s(4848),r=s(8453);const a={},t="11_Speech",l={},c=[{value:"\u6240\u7528\u6570\u636e\u96c6\u94fe\u63a5\uff1a",id:"\u6240\u7528\u6570\u636e\u96c6\u94fe\u63a5",level:2},{value:"1. \u9879\u76ee\u6982\u8ff0",id:"1-\u9879\u76ee\u6982\u8ff0",level:2},{value:"2.  \u9884\u5904\u7406\u8fc7\u7a0b",id:"2--\u9884\u5904\u7406\u8fc7\u7a0b",level:2},{value:"3. \u6838\u5fc3\u51fd\u6570",id:"3-\u6838\u5fc3\u51fd\u6570",level:2},{value:"3.1 loadFeaturesAndNormalize\uff08\uff09\u51fd\u6570",id:"31-loadfeaturesandnormalize\u51fd\u6570",level:4},{value:"3.2 getDataset\uff08\uff09\u51fd\u6570",id:"32-getdataset\u51fd\u6570",level:4},{value:"4. \u7528\u6cd5",id:"4-\u7528\u6cd5",level:2},{value:"4.1 \u51c6\u5907\u6570\u636e",id:"41-\u51c6\u5907\u6570\u636e",level:3},{value:"4.2 \u8fd0\u884c\u9884\u5904\u7406\u6587\u4ef6",id:"42-\u8fd0\u884c\u9884\u5904\u7406\u6587\u4ef6",level:3},{value:"4.3 \u7ed3\u679c\u9884\u89c8",id:"43-\u7ed3\u679c\u9884\u89c8",level:3},{value:"4.4 \u52a0\u8f7d\u9884\u5904\u7406\u5b8c\u6210\u7684\u6570\u636e",id:"44-\u52a0\u8f7d\u9884\u5904\u7406\u5b8c\u6210\u7684\u6570\u636e",level:3}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsx)(n.h1,{id:"11_speech",children:"11_Speech"})}),"\n",(0,d.jsx)(n.h1,{id:"\u6570\u636e\u5904\u7406\u6d41\u7a0b\u8bf4\u660e",children:"\u6570\u636e\u5904\u7406\u6d41\u7a0b\u8bf4\u660e"}),"\n",(0,d.jsx)(n.h2,{id:"\u6240\u7528\u6570\u636e\u96c6\u94fe\u63a5",children:"\u6240\u7528\u6570\u636e\u96c6\u94fe\u63a5\uff1a"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.a,{href:"https://datadryad.org/dataset/doi:10.5061/dryad.x69p8czpq",children:"https://datadryad.org/dataset/doi:10.5061/dryad.x69p8czpq"})}),"\n",(0,d.jsx)(n.h2,{id:"1-\u9879\u76ee\u6982\u8ff0",children:"1. \u9879\u76ee\u6982\u8ff0"}),"\n",(0,d.jsx)(n.p,{children:"\u672c\u9879\u76ee\u63d0\u4f9b\u4e86\u4e00\u79cd\u9884\u5904\u7406Data for: A high-performance speech neuroprosthesis\u6570\u636e\u96c6\u7684\u65b9\u5f0f\uff0c\u5c06\u539f\u59cb\u4fe1\u53f7\u8f6c\u5316\u4e3a\u7528\u4e8e\u6a21\u578b\u8bad\u7ec3\u7684\u4fe1\u53f7\u3002\u6570\u636e\u96c6\u7531\u5355\u4e2a\u7814\u7a76\u53c2\u4e0e\u8005\u6240\u8bf4\u768412,100\u4e2a\u53e5\u5b50\u7ec4\u6210\u3002\u6211\u4eec\u4f7f\u7528\u7684\u662f\u5176\u4e2d\u7684\u201ccompetitionData\u201d\u7248\u672c\uff0c\u8be5\u7248\u672c\u662f\u4e3a\u673a\u5668\u5b66\u4e60\u7814\u7a76\u683c\u5f0f\u5316\u548c\u5206\u533a\u7684\u53e5\u5b50\u6570\u636e\u7684\u7b80\u5316\u7248\u672c\u3002\u5b83\u5305\u542b\u7528\u4e8e\u6a21\u578b\u5f00\u53d1\u7684\u201c\u8bad\u7ec3\u201d\u548c\u201c\u6d4b\u8bd5\u201d\u5206\u533a\uff0c\u4ee5\u53ca\u7528\u4e8e\u8bed\u97f3\u89e3\u7801\u6bd4\u8d5b\u7684\u4fdd\u7559\u7684\u201ccompetitionHoldOut\u201d\u96c6\uff08\u6807\u7b7e\u5c06\u5728\u6bd4\u8d5b\u7ed3\u675f\u540e\u53d1\u5e03\uff09\uff0c\u6211\u4eec\u76ee\u524d\u53ea\u4f7f\u7528\u8bad\u7ec3\uff088800\uff09\u4e0e\u6d4b\u8bd5\uff08880\uff09\u5206\u533a\u6570\u636e\u3002\u5bf9\u4e8e\u6bcf\u4e2a\u53e5\u5b50\uff0c\u63d0\u4f9b\u4e86\u53c2\u4e0e\u8005\u8bd5\u56fe\u8bf4\u7684\u8bdd\u7684\u6587\u5b57\u8bb0\u5f55\uff0c\u4ee5\u53ca\u4ece\u5927\u8111\u76ae\u5c42\u4e0e\u8a00\u8bed\u76f8\u5173\u533a\u57df\u7684256\u4e2a\u5fae\u7535\u6781\u8bb0\u5f55\u7684\u76f8\u5e94\u7684\u795e\u7ecf\u8109\u51b2\u6d3b\u52a8\u7684\u65f6\u95f4\u5e8f\u5217\u3002\u89e3\u7801\u95ee\u9898\u5305\u62ec\u5c06\u53ef\u53d8\u957f\u5ea6\u7684\u795e\u7ecf\u6d3b\u52a8\u65f6\u95f4\u5e8f\u5217\u6620\u5c04\u5230\u6587\u672c\u3002\u7b97\u6cd5\u9996\u5148\u5c06\u795e\u7ecf\u6d3b\u52a8\u89e3\u7801\u4e3a\u97f3\u7d20\u6982\u7387\uff0c\u7136\u540e\u4f7f\u7528n-gram\u8bed\u8a00\u6a21\u578b\u5c06\u97f3\u7d20\u6982\u7387\u89e3\u7801\u4e3a\u6587\u672c\u3002"}),"\n",(0,d.jsx)(n.h2,{id:"2--\u9884\u5904\u7406\u8fc7\u7a0b",children:"2.  \u9884\u5904\u7406\u8fc7\u7a0b"}),"\n",(0,d.jsx)(n.p,{children:"\u4ece.mat\u683c\u5f0f\u7684\u6587\u4ef6\u4e2d\u8bfb\u53d6\u8109\u51b2\u4fe1\u53f7\u6570\u636e\u8fdb\u884c\u533a\u5757\u6807\u51c6\u5316\u64cd\u4f5c\uff0c\u8bfb\u53d6\u5bf9\u5e94\u7684\u53e5\u5b50\u5217\u8868\u548c\u6bcf\u4e2a\u53e5\u5b50\u5bf9\u5e94\u7684\u65f6\u95f4\u6b65\u6570\uff1b\n\u5c06\u4e0a\u4e00\u6b65\u5904\u7406\u7684\u795e\u7ecf\u4fe1\u53f7\u6570\u636e\u4e0e\u5176\u5bf9\u5e94\u7684\u53e5\u5b50\u8f6c\u5f55\u7ed3\u5408\uff0c\u751f\u6210\u7ed3\u6784\u5316\u6570\u636e\u96c6\uff0c\u7528\u4e8e\u8bed\u8a00\u89e3\u7801\u6a21\u578b\u8bad\u7ec3\uff08\u5982\u5c06\u8111\u4fe1\u53f7\u8f6c\u6362\u4e3a\u6587\u672c\uff09\u3002\u5173\u952e\u4efb\u52a1\u5305\u62ec\uff1a\u795e\u7ecf\u4fe1\u53f7\u7279\u5f81\u4e0e\u97f3\u7d20\u5e8f\u5217 \u7684\u5bf9\u9f50\uff1b\u6587\u672c\u6e05\u6d17\u3001\u97f3\u7d20\u8f6c\u6362\u3001\u5e8f\u5217\u6807\u51c6\u5316\uff1b\u751f\u6210\u6a21\u578b\u6240\u9700\u7684\u8f93\u5165\u683c\u5f0f\uff08\u56fa\u5b9a\u957f\u5ea6\u5e8f\u5217\u3001\u957f\u5ea6\u7edf\u8ba1\u7b49\uff09\uff1b"}),"\n",(0,d.jsx)(n.h2,{id:"3-\u6838\u5fc3\u51fd\u6570",children:"3. \u6838\u5fc3\u51fd\u6570"}),"\n",(0,d.jsx)(n.h4,{id:"31-loadfeaturesandnormalize\u51fd\u6570",children:"3.1 loadFeaturesAndNormalize\uff08\uff09\u51fd\u6570"}),"\n",(0,d.jsx)(n.p,{children:"loadFeaturesAndNormalize(sessionPath)"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u529f\u80fd"}),"\uff1a \u52a0\u8f7d\u795e\u7ecf\u4fe1\u53f7\u6570\u636e\u5e76\u8fdb\u884c\u533a\u5757\u6807\u51c6\u5316\uff0c\u6700\u7ec8\u8fd4\u56de\u5904\u7406\u540e\u7684\u7279\u5f81\u548c\u5bf9\u5e94\u7684\u6587\u672c\u8f6c\u5f55"]}),"\n",(0,d.jsxs)(n.li,{children:["\u8f93\u5165\u53c2\u6570\u8bf4\u660e\uff1a","\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"sessionPath"}),"\uff1a",(0,d.jsx)(n.code,{children:'str = ""'}),"\uff0c\u52a0\u8f7d\u7684\u53d7\u8bd5\u8005\u6587\u4ef6\uff08.mat\uff09\u3002"]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\u8f93\u51fa\u53c2\u6570\u8bf4\u660e\uff1a","\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"session_data"}),"\uff1a",(0,d.jsx)(n.code,{children:"dict{ 'inputFeatures': input_features, 'transcriptions': transcriptions, 'frameLens': frame_lens }"}),"\uff0c\u5305\u542b\u4ee5\u4e0b\u5b57\u6bb5\uff1a"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"inputFeatures"}),"\uff1a",(0,d.jsx)(n.code,{children:"List[np.ndarray]"}),"\uff0c\u6807\u51c6\u5316\u540e\u7684\u795e\u7ecf\u4fe1\u53f7\u7279\u5f81\u5217\u8868\uff0c\u6bcf\u4e2a\u5143\u7d20\u5f62\u72b6\u4e3a (time_steps, channel)\u3002\u3002"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"transcriptions"}),"\uff1a",(0,d.jsx)(n.code,{children:"List[str]"}),"\uff0c\u5bf9\u5e94\u7684\u6587\u672c\u5217\u8868\uff08\u5df2\u53bb\u9664\u9996\u5c3e\u7a7a\u683c\uff09\u3002"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"frameLens"}),"\uff1a",(0,d.jsx)(n.code,{children:"List[int]"}),"\uff0c\u6bcf\u4e2a Trial \u7684\u65f6\u95f4\u6b65\u957f\uff08\u5e27\u6570\uff09\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"32-getdataset\u51fd\u6570",children:"3.2 getDataset\uff08\uff09\u51fd\u6570"}),"\n",(0,d.jsx)(n.p,{children:"getDataset(sessionPath)"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u529f\u80fd"}),"\uff1a \u6570\u636e\u5904\u7406\u7ba1\u9053\uff0c\u7528\u4e8e\u5c06\u795e\u7ecf\u4fe1\u53f7\u6570\u636e\u4e0e\u5bf9\u5e94\u7684\u6587\u672c\u8f6c\u5f55\u8f6c\u6362\u4e3a\u9002\u5408\u89e3\u7801\u6a21\u578b\u8bad\u7ec3\u7684\u683c\u5f0f\u3002"]}),"\n",(0,d.jsxs)(n.li,{children:["\u8f93\u5165\u53c2\u6570\u8bf4\u660e\uff1a","\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"sessionPath"}),"\uff1a",(0,d.jsx)(n.code,{children:'str = ""'}),"\uff0c\u5305\u542b\u795e\u7ecf\u4fe1\u53f7\u548c\u6587\u672c\u6570\u636e\u7684.mat\u6587\u4ef6\u8def\u5f84\u3002"]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\u8f93\u51fa\u53c2\u6570\u8bf4\u660e\uff1a","\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"newDataset"}),"\uff1a",(0,d.jsx)(n.code,{children:"dict{ 'sentenceDat': sentenceDat, 'transcriptions': transcriptions, 'phonemes': phonemes, 'timeSeriesLens': timeSeriesLens, 'phoneLens': phoneLens, 'phonePerTime': phonePerTime, }"}),"\uff0c\u5305\u542b\u4ee5\u4e0b\u5b57\u6bb5\uff1a"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"sentenceDat"}),"\uff1a",(0,d.jsx)(n.code,{children:"List[np.ndarray]"}),"\uff0c\u795e\u7ecf\u4fe1\u53f7\u7279\u5f81\u5217\u8868\uff0c\u6bcf\u4e2a\u5143\u7d20\u5f62\u72b6\u4e3a(time_steps, channel)\u3002"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"transcriptions"}),"\uff1a",(0,d.jsx)(n.code,{children:"List[str]"}),"\uff0c\u5bf9\u5e94\u7684\u6587\u672c\u5217\u8868\uff08\u5df2\u53bb\u9664\u9996\u5c3e\u7a7a\u683c\uff09\u3002"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"phonemes"}),"\uff1a",(0,d.jsx)(n.code,{children:"List[np.ndarray]"}),"\uff0c\u7f16\u7801\u540e\u7684\u97f3\u7d20\u5e8f\u5217\uff0c\u56fa\u5b9a\u957f\u5ea6500\uff0c\u75280\u586b\u5145\u3002"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"timeSeriesLens"}),"\uff1a",(0,d.jsx)(n.code,{children:"np.ndarray"}),"\uff0c\u6bcf\u4e2a\u53e5\u5b50\u7684\u65f6\u95f4\u6b65\u957f\u3002"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"phoneLens"}),"\uff1a",(0,d.jsx)(n.code,{children:"np.ndarray"}),"\uff0c\u6bcf\u4e2a\u53e5\u5b50\u7684\u5b9e\u9645\u97f3\u7d20\u957f\u5ea6(\u4e0d\u542b\u586b\u5145)\u3002"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"phonePerTime"}),"\uff1a",(0,d.jsx)(n.code,{children:"np.ndarray"}),"\uff0c\u97f3\u7d20\u6570\u4e0e\u65f6\u5e8f\u957f\u5ea6\u7684\u6bd4\u503c(\u7528\u4e8e\u5bf9\u9f50)\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"4-\u7528\u6cd5",children:"4. \u7528\u6cd5"}),"\n",(0,d.jsx)(n.h3,{id:"41-\u51c6\u5907\u6570\u636e",children:"4.1 \u51c6\u5907\u6570\u636e"}),"\n",(0,d.jsx)(n.p,{children:"\u4fee\u6539process.py\u6587\u4ef6\u4e2d\u7684\u201cdataDir\u201d\u8def\u5f84\u4e3a\u201ccompetitionData\u201d\u6587\u4ef6\u6240\u5728\u7684\u8def\u5f84\uff0c\u6307\u5b9a\u6587\u4ef6\u4e2d\u7684\u201cout_data\u201d\u53d8\u91cf\u503c\u4e3a\u9884\u5904\u7406\u6570\u636e\u4fdd\u5b58\u7684\u8def\u5f84\u3002"}),"\n",(0,d.jsx)(n.h3,{id:"42-\u8fd0\u884c\u9884\u5904\u7406\u6587\u4ef6",children:"4.2 \u8fd0\u884c\u9884\u5904\u7406\u6587\u4ef6"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-shell",children:"python process.py\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u8fd0\u884c\u8be5\u6587\u4ef6\u53ef\u4ee5\u5f97\u5230\u9884\u5904\u7406\u540e\uff08.npy\uff09\u683c\u5f0f\u7684\u6587\u4ef6"}),"\n",(0,d.jsx)(n.h3,{id:"43-\u7ed3\u679c\u9884\u89c8",children:"4.3 \u7ed3\u679c\u9884\u89c8"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"\u251c\u2500\u2500 out_data/\n\u2502   \u251c\u2500\u2500 data_SpeechBCI_preprocessed.npz          # \u9884\u5904\u7406\u5b8c\u6210\u7684\u6570\u636e\n"})}),"\n",(0,d.jsx)(n.h3,{id:"44-\u52a0\u8f7d\u9884\u5904\u7406\u5b8c\u6210\u7684\u6570\u636e",children:"4.4 \u52a0\u8f7d\u9884\u5904\u7406\u5b8c\u6210\u7684\u6570\u636e"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"import numpy as np\n\ndata = np.load('./out_data/data_SpeechBCI_preprocessed.npz')\nfeatures = data['spike']  # \u7279\u5f81\u6570\u636e\uff0c\u5f62\u72b6\u4e3a\uff08\u6837\u672c\u6570, \u901a\u9053\u6570, \u65f6\u95f4\u6b65\u6570\uff09\nlabel = data['label']  # \u7279\u5f81\u6807\u7b7e\uff0c\u5f62\u72b6\u4e3a\uff08\u6837\u672c\u6570\uff0c\u6807\u7b7e\uff09,\u6807\u7b7e\u4ee3\u8868\u7f16\u7801\u540e\u7684\u97f3\u7d20\u5e8f\u5217\uff0c\u56fa\u5b9a\u957f\u5ea6500\u3002\nfeatures_len = data['X_len']  # \u7279\u5f81\u6570\u636e\u7684\u65f6\u95f4\u6b65\u957f\uff0c\u5f62\u72b6\u4e3a(\u6837\u672c\u6570)\nlabel_len = data['y_len']  # \u6bcf\u4e2a\u53e5\u5b50\u7684\u5b9e\u9645\u97f3\u7d20\u957f\u5ea6(\u4e0d\u542b\u586b\u5145)\uff0c\u5f62\u72b6\u4e3a\uff08\u6837\u672c\u6570\uff09\n\n\nprint(features.shape, label.shape, features_len.shape, label_len.shape)\n"})})]})}function o(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(h,{...e})}):h(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>t});var i=s(6540);const d={},r=i.createContext(d);function a(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);