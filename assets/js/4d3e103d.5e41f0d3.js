"use strict";(self.webpackChunkhcihub_docs=self.webpackChunkhcihub_docs||[]).push([[9161],{3902:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"datasets/invasive/Finger PPC","title":"4_Finger PPC","description":"- Source: PPC_Finger (human posterior parietal cortex recordings during attempted finger movements)","source":"@site/docs/datasets/invasive/4_Finger PPC.md","sourceDirName":"datasets/invasive","slug":"/datasets/invasive/Finger PPC","permalink":"/BCIJelly-site/docs/next/datasets/invasive/Finger PPC","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/datasets/invasive/4_Finger PPC.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"3_Finger RL","permalink":"/BCIJelly-site/docs/next/datasets/invasive/Finger RL"},"next":{"title":"5_Jongo","permalink":"/BCIJelly-site/docs/next/datasets/invasive/Jongo"}}');var r=n(4848),t=n(8453);const l={},a="4_Finger PPC",c={},d=[{value:"2. Processing Goal",id:"2-processing-goal",level:2},{value:"3. Processing Steps",id:"3-processing-steps",level:2},{value:"3.1 Iterate NWB Files",id:"31-iterate-nwb-files",level:3},{value:"3.2 Extract Spike Data",id:"32-extract-spike-data",level:3},{value:"3.3 Extract Trial Labels",id:"33-extract-trial-labels",level:3},{value:"3.4 Visualization",id:"34-visualization",level:3},{value:"3.5 Save Processed Data",id:"35-save-processed-data",level:3},{value:"4. Use Cases",id:"4-use-cases",level:2}];function o(e){const s={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"4_finger-ppc",children:"4_Finger PPC"})}),"\n",(0,r.jsx)(s.h1,{id:"preprocessing-pipeline",children:"Preprocessing Pipeline"}),"\n",(0,r.jsx)(s.h1,{id:"1-dataset-overview",children:"1. Dataset Overview"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Source"}),": PPC_Finger (",(0,r.jsx)(s.em,{children:"human posterior parietal cortex recordings during attempted finger movements"}),")"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Subject"}),": Single tetraplegic human participant"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Task"}),": BCI finger press task (cue on screen, participant presses corresponding finger)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Recording Site"}),": Left posterior parietal cortex (PPC, PC-IP junction)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Electrode Array"}),": 96-channel Utah array (Blackrock)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Data Format"}),": NWB (Neurodata Without Borders)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Recorded Data"}),":","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Sorted neural spike times (",(0,r.jsx)(s.code,{children:"units/spike_times"}),")"]}),"\n",(0,r.jsx)(s.li,{children:"Trial information (finger cue, cue location, start/stop times)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"2-processing-goal",children:"2. Processing Goal"}),"\n",(0,r.jsx)(s.p,{children:"Convert raw NWB files into deep learning-ready input:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Input (features)"}),": binned spike count matrix ",(0,r.jsx)(s.code,{children:"[Trials, Time, Channels]"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Output (labels)"}),": finger class ",(0,r.jsx)(s.code,{children:"[Trials]"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Save format"}),": ",(0,r.jsx)(s.code,{children:".npy"})," files (per-trial spike and label)"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"3-processing-steps",children:"3. Processing Steps"}),"\n",(0,r.jsx)(s.h3,{id:"31-iterate-nwb-files",children:"3.1 Iterate NWB Files"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Read all ",(0,r.jsx)(s.code,{children:".nwb"})," files in the data directory"]}),"\n",(0,r.jsxs)(s.li,{children:["Use ",(0,r.jsx)(s.code,{children:"pynwb"})," to open each file"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"32-extract-spike-data",children:"3.2 Extract Spike Data"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Retrieve ",(0,r.jsx)(s.code,{children:"units['spike_times']"})]}),"\n",(0,r.jsx)(s.li,{children:"Convert spike timestamps to sample indices using FS"}),"\n",(0,r.jsxs)(s.li,{children:["Slice each trial to generate ",(0,r.jsx)(s.code,{children:"[trial_len, Channels]"})," binned spike matrix"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"33-extract-trial-labels",children:"3.3 Extract Trial Labels"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Retrieve ",(0,r.jsx)(s.code,{children:"trials['finger']"})]}),"\n",(0,r.jsx)(s.li,{children:"Store the finger class for each trial"}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"34-visualization",children:"3.4 Visualization"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Generate raster plots for first N_PLOT trials"}),"\n",(0,r.jsx)(s.li,{children:"X-axis: time bins, Y-axis: channels"}),"\n",(0,r.jsx)(s.li,{children:"Save as PNG files"}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"35-save-processed-data",children:"3.5 Save Processed Data"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Spike matrices \u2192 ",(0,r.jsx)(s.code,{children:"spikes_{date}.npy"})]}),"\n",(0,r.jsxs)(s.li,{children:["Finger labels \u2192 ",(0,r.jsx)(s.code,{children:"cly_labels_{date}.npy"})]}),"\n",(0,r.jsx)(s.li,{children:"Example folder structure:"}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"out/sub-P1/\n    \u251c\u2500\u2500 2022MMDD/\n    \u2502   \u251c\u2500\u2500 spikes_2022MMDD.npy\n    \u2502   \u251c\u2500\u2500 cly_labels_2022MMDD.npy\n    \u2502   \u251c\u2500\u2500 trial_0_raster.png\n    \u2502   \u251c\u2500\u2500 trial_1_raster.png\n    \u2502   \u2514\u2500\u2500 ...\n"})}),"\n",(0,r.jsx)(s.h2,{id:"4-use-cases",children:"4. Use Cases"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Finger press classification"}),"\n",(0,r.jsx)(s.li,{children:"Cross-trial decoding of intended finger movement"}),"\n",(0,r.jsx)(s.li,{children:"Input for MLP / CNN / RNN / Transformer models"}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>l,x:()=>a});var i=n(6540);const r={},t=i.createContext(r);function l(e){const s=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(t.Provider,{value:s},e.children)}}}]);