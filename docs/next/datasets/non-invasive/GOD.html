<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-datasets/non-invasive/GOD" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">2_GOD | BCIJelly</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://bcihub.github.io/BCIJelly-site/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://bcihub.github.io/BCIJelly-site/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://bcihub.github.io/BCIJelly-site/docs/next/datasets/non-invasive/GOD"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="zh"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="2_GOD | BCIJelly"><meta data-rh="true" name="description" content="Generic Object Decoding (fMRI on ImageNet) - OpenNeuro"><meta data-rh="true" property="og:description" content="Generic Object Decoding (fMRI on ImageNet) - OpenNeuro"><link data-rh="true" rel="icon" href="/BCIJelly-site/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://bcihub.github.io/BCIJelly-site/docs/next/datasets/non-invasive/GOD"><link data-rh="true" rel="alternate" href="https://bcihub.github.io/BCIJelly-site/docs/next/datasets/non-invasive/GOD" hreflang="en"><link data-rh="true" rel="alternate" href="https://bcihub.github.io/BCIJelly-site/zh/docs/next/datasets/non-invasive/GOD" hreflang="zh"><link data-rh="true" rel="alternate" href="https://bcihub.github.io/BCIJelly-site/docs/next/datasets/non-invasive/GOD" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"2_GOD","item":"https://bcihub.github.io/BCIJelly-site/docs/next/datasets/non-invasive/GOD"}]}</script><link rel="alternate" type="application/rss+xml" href="/BCIJelly-site/blog/rss.xml" title="BCIJelly RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/BCIJelly-site/blog/atom.xml" title="BCIJelly Atom Feed"><link rel="stylesheet" href="/BCIJelly-site/assets/css/styles.1c46aeb9.css">
<script src="/BCIJelly-site/assets/js/runtime~main.524899e4.js" defer="defer"></script>
<script src="/BCIJelly-site/assets/js/main.44c57978.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/BCIJelly-site/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/BCIJelly-site/"><div class="navbar__logo"><img src="/BCIJelly-site/img/logo.svg" alt="BCIJelly Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/BCIJelly-site/img/logo.svg" alt="BCIJelly Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">BCIJelly</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/BCIJelly-site/docs/next/datasets/invasive/FALCON M1-A">Tutorial</a><a class="navbar__item navbar__link" href="/BCIJelly-site/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/BCIJelly-site/docs/next/datasets/non-invasive/GOD">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/BCIJelly-site/docs/next/datasets/non-invasive/GOD">Next</a></li><li><a class="dropdown__link" href="/BCIJelly-site/docs/intro">1.2.0</a></li><li><a class="dropdown__link" href="/BCIJelly-site/docs/1.1.0/intro">1.1.0</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/BCIJelly-site/docs/next/datasets/non-invasive/GOD" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/BCIJelly-site/zh/docs/next/datasets/non-invasive/GOD" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh">中文</a></li></ul></div><a href="https://github.com/bcihub/BCIJelly-site" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/BCIJelly-site/docs/next/datasets/invasive/FALCON M1-A">datasets</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/BCIJelly-site/docs/next/datasets/invasive/FALCON M1-A">invasive</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/BCIJelly-site/docs/next/datasets/non-invasive/BOLD5000">non-invasive</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/BCIJelly-site/docs/next/datasets/non-invasive/BOLD5000">1_BOLD5000</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/BCIJelly-site/docs/next/datasets/non-invasive/GOD">2_GOD</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/BCIJelly-site/docs/next/datasets/non-invasive/EEGMMI">3_EEGMMI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/BCIJelly-site/docs/next/datasets/non-invasive/SEED IV">4_SEED IV</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/BCIJelly-site/docs/next/datasets/non-invasive/SEED-VII">5_SEED-VII</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/BCIJelly-site/docs/next/datasets/non-invasive/Things EEG">6_Things EEG</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/BCIJelly-site/docs/next/datasets/non-invasive/Calcium Imaging">7_Calcium Imaging</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/BCIJelly-site/docs/next/models/CCA">models</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->BCIJelly<!-- --> <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/BCIJelly-site/docs/intro">latest version</a></b> (<!-- -->1.2.0<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/BCIJelly-site/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">datasets</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">non-invasive</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">2_GOD</span></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Next</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>2_GOD</h1></header>
<p><a href="https://openneuro.org/datasets/ds001246/versions/1.2.1" target="_blank" rel="noopener noreferrer">Generic Object Decoding (fMRI on ImageNet) - OpenNeuro</a></p>
<h1>I. Brief Description of the Dataset</h1>
<p>Based on the requirements of the classification task, we only use the <code>perceptionTraining</code> subset (150 categories × 8 images = 1,200 natural images). This subset has undergone standard fMRI preprocessing in the original paper, including head motion correction, spatial registration, and global normalization, making it suitable for subsequent training-test splitting.</p>
<h1>II. Data Processing Ideas</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-roi-signal-extraction-based-on-existing-data-and-mask-files">1. ROI Signal Extraction (Based on Existing Data and Mask Files)<a href="#1-roi-signal-extraction-based-on-existing-data-and-mask-files" class="hash-link" aria-label="Direct link to 1. ROI Signal Extraction (Based on Existing Data and Mask Files)" title="Direct link to 1. ROI Signal Extraction (Based on Existing Data and Mask Files)">​</a></h2>
<ol>
<li>
<p><strong>Input</strong></p>
<ul>
<li>Preprocessed 4-D fMRI time series (<code>func.nii.gz</code>) located in the <code>derivatives</code> folder</li>
<li>Predefined ROI masks (<code>V1.nii.gz</code>, <code>LOC.nii.gz</code>, <code>FFA.nii.gz</code>, <code>PPA.nii.gz</code>, etc., binary masks)</li>
</ul>
</li>
<li>
<p><strong>Workflow</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> nibabel </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> nib</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> numpy </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> np</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">img   </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> nib</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;func.nii.gz&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_fdata</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># (X,Y,Z,T)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mask  </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> nib</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;V1.nii.gz&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_fdata</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">astype</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">bool</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">roi_t </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> img</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">mask</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">                             </span><span class="token comment" style="color:#999988;font-style:italic"># (N_voxel, T)</span><br></span></code></pre></div></div>
</li>
<li>
<p><strong>Output</strong></p>
<ul>
<li>2D matrix for each ROI: <code>roi_t</code> (number of voxels × number of TRs).</li>
</ul>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-label-matching-temporal-alignment">2. Label Matching (Temporal Alignment)<a href="#2-label-matching-temporal-alignment" class="hash-link" aria-label="Direct link to 2. Label Matching (Temporal Alignment)" title="Direct link to 2. Label Matching (Temporal Alignment)">​</a></h2>
<ol>
<li><strong>Alignment Logic</strong>
<ul>
<li>fMRI sampling period (TR) = 3 s; HRF peak lag ≈ 4–6 s.</li>
<li>The signal of the corresponding TR after <strong>shifting the stimulus onset time backward by 1 TR (3 s)</strong> is taken as the stimulus sample.</li>
</ul>
</li>
<li><strong>Label Table</strong>
<ul>
<li>CSV format: <code>onset, category_index</code></li>
<li>A one-to-one mapping is established between onset times and TR indices.</li>
</ul>
</li>
</ol>
<h1>III. Complete fMRI Data Processing Workflow</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="i-data-preprocessing-workflow">I. Data Preprocessing Workflow<a href="#i-data-preprocessing-workflow" class="hash-link" aria-label="Direct link to I. Data Preprocessing Workflow" title="Direct link to I. Data Preprocessing Workflow">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-data-loading-and-preparation">1. Data Loading and Preparation<a href="#1-data-loading-and-preparation" class="hash-link" aria-label="Direct link to 1. Data Loading and Preparation" title="Direct link to 1. Data Loading and Preparation">​</a></h3>
<ul>
<li><strong>Raw Data Format</strong>: fMRI data is stored in <code>.nii.gz</code> format, event markers in <code>.tsv</code> format, and ROI masks in <code>.nii.gz</code> format.</li>
<li><strong>Data Organization</strong>: Structured hierarchically by subject, session, and run.</li>
<li><strong>Key Parameters</strong>:<!-- -->
<ul>
<li>TR (Repetition Time): 3.0 seconds</li>
<li>Stimulus Duration: 9.0 seconds</li>
<li>Number of TRs per trial: 3 (9.0/3.0)</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-file-matching-and-indexing">2. File Matching and Indexing<a href="#2-file-matching-and-indexing" class="hash-link" aria-label="Direct link to 2. File Matching and Indexing" title="Direct link to 2. File Matching and Indexing">​</a></h3>
<p>Files of different types are matched using regular expressions:</p>
<ul>
<li>fMRI data files: <code>(sub-\d+)_ses-(perceptionTraining\d+)_task-perception_run-(\d+)_bold_preproc\.nii\.gz</code></li>
<li>Event marker files: <code>(sub-\d+)_ses-(perceptionTraining\d+)_task-perception_run-(\d+)_events\.tsv</code></li>
<li>ROI mask files: <code>(sub-\d+)_mask_(.+)\.nii\.gz</code></li>
</ul>
<p>A data index dictionary is constructed to map subjects to their corresponding data files.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-roi-and-voxel-processing">3. ROI and Voxel Processing<a href="#3-roi-and-voxel-processing" class="hash-link" aria-label="Direct link to 3. ROI and Voxel Processing" title="Direct link to 3. ROI and Voxel Processing">​</a></h3>
<ol>
<li>Load ROI masks for each subject and perform binarization.</li>
<li>Count the number of voxels in each ROI and calculate the total number of voxels.</li>
<li>Save ROI names and their corresponding voxel counts in a fixed order to ensure data consistency.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-trial-data-extraction">4. Trial Data Extraction<a href="#4-trial-data-extraction" class="hash-link" aria-label="Direct link to 4. Trial Data Extraction" title="Direct link to 4. Trial Data Extraction">​</a></h3>
<ol>
<li>Load fMRI data (shape: [x, y, z, t]) and event files.</li>
<li>Determine the TR index for each trial based on the <code>onset</code> time in the event file.</li>
<li>Extract voxel signals of all ROIs for each trial:<!-- -->
<ul>
<li>Concatenate voxel signals in ROI order.</li>
<li>Form trial data with the shape [total voxels, TRs_per_trial].</li>
</ul>
</li>
<li>Encode trial labels into zero-starting integer codes uniformly.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ii-feature-engineering-workflow">II. Feature Engineering Workflow<a href="#ii-feature-engineering-workflow" class="hash-link" aria-label="Direct link to II. Feature Engineering Workflow" title="Direct link to II. Feature Engineering Workflow">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-data-standardization">1. Data Standardization<a href="#1-data-standardization" class="hash-link" aria-label="Direct link to 1. Data Standardization" title="Direct link to 1. Data Standardization">​</a></h3>
<ul>
<li>Standardize data using <code>StandardScaler</code>.</li>
<li>Processing target: All trial data at each time point (TR).</li>
<li>Standardization goal: Mean = 0, Standard deviation = 1.</li>
<li>Shape change: [Trials, Total voxels] → [Trials, Total voxels]</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-pca-dimensionality-reduction">2. PCA Dimensionality Reduction<a href="#2-pca-dimensionality-reduction" class="hash-link" aria-label="Direct link to 2. PCA Dimensionality Reduction" title="Direct link to 2. PCA Dimensionality Reduction">​</a></h3>
<ul>
<li>Perform Principal Component Analysis using <code>sklearn.decomposition.PCA</code>.</li>
<li>Core parameter: <code>n_components</code> (number of principal components, adjustable as needed).</li>
<li>Dimensionality reduction strategy: Process each time point (TR) separately.</li>
<li>Shape change: [Trials, Total voxels] → [Trials, Number of principal components]</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-feature-matrix-construction">3. Feature Matrix Construction<a href="#3-feature-matrix-construction" class="hash-link" aria-label="Direct link to 3. Feature Matrix Construction" title="Direct link to 3. Feature Matrix Construction">​</a></h3>
<ul>
<li>Integrate dimensionality reduction results from all time points.</li>
<li>Final feature matrix shape: <code>(Number of samples × Number of principal components × Number of TRs)</code>.</li>
<li>Retain PCA model parameters (component matrix and explained variance ratio).</li>
</ul>
<h1>IV. Usage Instructions</h1>
<p>Data is stored per subject.</p>
<ol>
<li>Load <code>.npz</code> files directly using the <code>np.load</code> function.</li>
<li>After loading, the following keywords can be used to access corresponding data:<!-- -->
<ul>
<li><code>fmri</code>: fMRI data with shape <code>(trials, number of principal components, TRs)</code>.</li>
<li><code>label</code>: Label data containing 150 values (0–149), each corresponding to a different category.</li>
<li>Additional extended keywords:<!-- -->
<ul>
<li><code>label_names</code>: Obtain specific names corresponding to labels.</li>
<li><code>rois</code>: Obtain information about Regions of Interest (ROIs).</li>
<li><code>roi_voxel_counts</code>: Obtain the number of voxels in each ROI.</li>
</ul>
</li>
</ul>
</li>
</ol>
<h1>Notes</h1>
<ul>
<li>The <code>n_components</code> parameter can be adjusted according to actual needs to balance the dimensionality reduction effect and computational resource consumption. The data uploaded in this study has been reduced to 1000 dimensions, which is the setting that achieved the optimal classification performance in the current experiments.</li>
<li>For data augmentation, category-specific processing was attempted, but experimental results showed that the adopted data augmentation methods did not improve the classification performance, so they were not included in the final workflow.</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/datasets/non-invasive/2_GOD.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/BCIJelly-site/docs/next/datasets/non-invasive/BOLD5000"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">1_BOLD5000</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/BCIJelly-site/docs/next/datasets/non-invasive/EEGMMI"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">3_EEGMMI</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-roi-signal-extraction-based-on-existing-data-and-mask-files" class="table-of-contents__link toc-highlight">1. ROI Signal Extraction (Based on Existing Data and Mask Files)</a></li><li><a href="#2-label-matching-temporal-alignment" class="table-of-contents__link toc-highlight">2. Label Matching (Temporal Alignment)</a></li><li><a href="#i-data-preprocessing-workflow" class="table-of-contents__link toc-highlight">I. Data Preprocessing Workflow</a><ul><li><a href="#1-data-loading-and-preparation" class="table-of-contents__link toc-highlight">1. Data Loading and Preparation</a></li><li><a href="#2-file-matching-and-indexing" class="table-of-contents__link toc-highlight">2. File Matching and Indexing</a></li><li><a href="#3-roi-and-voxel-processing" class="table-of-contents__link toc-highlight">3. ROI and Voxel Processing</a></li><li><a href="#4-trial-data-extraction" class="table-of-contents__link toc-highlight">4. Trial Data Extraction</a></li></ul></li><li><a href="#ii-feature-engineering-workflow" class="table-of-contents__link toc-highlight">II. Feature Engineering Workflow</a><ul><li><a href="#1-data-standardization" class="table-of-contents__link toc-highlight">1. Data Standardization</a></li><li><a href="#2-pca-dimensionality-reduction" class="table-of-contents__link toc-highlight">2. PCA Dimensionality Reduction</a></li><li><a href="#3-feature-matrix-construction" class="table-of-contents__link toc-highlight">3. Feature Matrix Construction</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/BCIJelly-site/docs/intro">Tutorial</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/BCIJelly-site/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>